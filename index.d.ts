/* tslint:disable */
/* eslint-disable */

/* auto-generated by NAPI-RS */

export interface EventTypes {
  blockReceived: string
  peerConnected: string
  peerDisconnected: string
}
export declare function getEventTypes(): EventTypes
export interface PeerConnectedEvent {
  peerId: string
  host: string
  port: number
}
export interface PeerDisconnectedEvent {
  peerId: string
  host: string
  port: number
  message?: string
}
export interface BlockReceivedEvent {
  peerId: string
  height: number
  weight: string
  headerHash: string
  timestamp: number
  coinAdditions: Array<CoinRecord>
  coinRemovals: Array<CoinRecord>
  coinSpends: Array<CoinSpend>
  coinCreations: Array<CoinRecord>
  hasTransactionsGenerator: boolean
  generatorSize: number
}
export interface CoinRecord {
  parentCoinInfo: string
  puzzleHash: string
  amount: string
}
export interface CoinSpend {
  coin: CoinRecord
  puzzleReveal: string
  solution: string
  offset: number
}
export interface NewPeakHeightEvent {
  oldPeak?: number | null
  newPeak: number
  peerId: string
}
export declare function initTracing(): void
export declare class ChiaBlockListener {
  constructor()
  addPeer(host: string, port: number, networkId: string): string
  disconnectPeer(peerId: string): boolean
  disconnectAllPeers(): void
  getConnectedPeers(): Array<string>
  // Typed event method overloads

  on(event: 'blockReceived', callback: (event: BlockReceivedEvent) => void): void

  on(event: 'peerConnected', callback: (event: PeerConnectedEvent) => void): void

  on(event: 'peerDisconnected', callback: (event: PeerDisconnectedEvent) => void): void

  on(event: string, callback: (...args: any[]) => any): void
  off(event: 'blockReceived', callback: (event: BlockReceivedEvent) => void): void

  off(event: 'peerConnected', callback: (event: PeerConnectedEvent) => void): void

  off(event: 'peerDisconnected', callback: (event: PeerDisconnectedEvent) => void): void

  off(event: string, callback: (...args: any[]) => any): void
  getBlockByHeight(peerId: string, height: number): BlockReceivedEvent
  getBlocksRange(peerId: string, startHeight: number, endHeight: number): Array<BlockReceivedEvent>
}
export declare class ChiaPeerPool {
  constructor()
  addPeer(host: string, port: number, networkId: string): Promise<string>
  getBlockByHeight(height: number): Promise<BlockReceivedEvent>
  removePeer(peerId: string): Promise<boolean>
  shutdown(): Promise<void>
  getConnectedPeers(): Promise<Array<string>>
  getPeakHeight(): Promise<number | null>
  // Typed event method overloads for ChiaPeerPool
  on(event: 'peerConnected', callback: (event: PeerConnectedEvent) => void): void
  on(event: 'peerDisconnected', callback: (event: PeerDisconnectedEvent) => void): void
  on(event: 'newPeakHeight', callback: (event: NewPeakHeightEvent) => void): void
  on(event: string, callback: (...args: any[]) => any): void
  off(event: 'peerConnected', callback: (event: PeerConnectedEvent) => void): void
  off(event: 'peerDisconnected', callback: (event: PeerDisconnectedEvent) => void): void
  off(event: 'newPeakHeight', callback: (event: NewPeakHeightEvent) => void): void
  off(event: string, callback: (...args: any[]) => any): void
}
